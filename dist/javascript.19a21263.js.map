{"version":3,"sources":["src/javascript/icons.js","src/javascript/Swiper.js","src/javascript/index.js"],"names":["svgPlaceholder","document","createElement","style","position","width","height","overflow","body","appendChild","innerHTML","Swiper","node","Error","root","querySelector","eventHub","initX","newX","clock","ontouchstart","e","changedTouches","pageX","ontouchmove","clearInterval","setTimeout","forEach","fn","bind","on","type","push","off","index","indexOf","splice","Player","$","selector","$$","querySelectorAll","songList","currentIndex","audio","Audio","lyricsArr","lyricIndex","start","fetch","then","res","json","data","console","log","loadSong","self","onclick","classList","contains","play","remove","add","setAttribute","pause","length","playSong","addEventListener","Math","floor","random","currentTime","ontimeupdate","locateLyric","setProgressBar","swiper","songObj","innerText","title","author","album","src","url","onloadedmetadata","formatTime","duration","loadLyrics","oncanplaythrough","lyric","lrc","setLyrics","window","lyrics","nextLineTime","setLyricToCenter","fragment","createDocumentFragment","split","filter","str","match","line","replace","t","milliseconds","parseInt","slice","trim","sort","v1","v2","translateY","offsetTop","offsetHeight","transform","percent","secondsTotal","minutes","seconds","p"],"mappings":"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","file":"javascript.19a21263.js","sourceRoot":"..","sourcesContent":["let svgPlaceholder = document.createElement('div')\r\nsvgPlaceholder.style.position = 'absolute'\r\nsvgPlaceholder.style.width = '0'\r\nsvgPlaceholder.style.height = '0'\r\nsvgPlaceholder.style.overflow = 'hidden'\r\n\r\ndocument.body.appendChild(svgPlaceholder)\r\nsvgPlaceholder.innerHTML = `\r\n<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 48 48\">\r\n    <symbol id=\"like-icon\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 48 48\">\r\n    <path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-width=\"4\" stroke=\"#f5f5f5\"\r\n        d=\"M15 8C8.925 8 4 12.925 4 19c0 11 13 21 20 23.326C31 40 44 30 44 19c0-6.075-4.925-11-11-11-3.72 0-7.01 1.847-9 4.674A10.987 10.987 0 0 0 15 8Z\"\r\n        data-follow-stroke=\"#f5f5f5\" />\r\n    </symbol>\r\n    <symbol id=\"download-icon\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 48 48\">\r\n        <path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-width=\"4\" stroke=\"#f5f5f5\"\r\n            d=\"M24 29 12 17h8V6h8v11h8L24 29Z\" clip-rule=\"evenodd\" data-follow-stroke=\"#f5f5f5\" />\r\n        <path stroke-linecap=\"round\" stroke-width=\"4\" stroke=\"#f5f5f5\" d=\"M42 37H6M34 44H14\" data-follow-stroke=\"#f5f5f5\" />\r\n    </symbol>\r\n    <symbol id=\"share-icon\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 48 48\">\r\n        <path stroke-linejoin=\"round\" stroke-width=\"4\" stroke=\"#f5f5f5\"\r\n            d=\"M35 16a5 5 0 1 0 0-10 5 5 0 0 0 0 10ZM13 29a5 5 0 1 0 0-10 5 5 0 0 0 0 10Z\" data-follow-stroke=\"#f5f5f5\" />\r\n        <path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-width=\"4\" stroke=\"#f5f5f5\"\r\n            d=\"m30 13.575-12.66 7.67M17.338 26.564l13.34 7.883\" data-follow-stroke=\"#f5f5f5\" />\r\n        <path stroke-linejoin=\"round\" stroke-width=\"4\" stroke=\"#f5f5f5\" d=\"M35 32a5 5 0 1 1 0 10 5 5 0 0 1 0-10Z\"\r\n            data-follow-stroke=\"#f5f5f5\" />\r\n    </symbol>\r\n    <symbol id=\"comment-icon\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 48 48\">\r\n        <path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-width=\"4\" stroke=\"#f5f5f5\"\r\n            d=\"M44 6H4v30h9v5l10-5h21V6ZM14 21h20\" data-follow-stroke=\"#f5f5f5\" />\r\n    </symbol>\r\n    <symbol id=\"more-icon\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 48 48\">\r\n        <path stroke-linejoin=\"round\" stroke-width=\"4\" stroke=\"#f5f5f5\"\r\n            d=\"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Z\" data-follow-stroke=\"#f5f5f5\" />\r\n        <circle fill=\"#f5f5f5\" r=\"3\" cy=\"24\" cx=\"14\" data-follow-fill=\"#f5f5f5\" />\r\n        <circle fill=\"#f5f5f5\" r=\"3\" cy=\"24\" cx=\"24\" data-follow-fill=\"#f5f5f5\" />\r\n        <circle fill=\"#f5f5f5\" r=\"3\" cy=\"24\" cx=\"34\" data-follow-fill=\"#f5f5f5\" />\r\n    </symbol>\r\n    <symbol id=\"pre-icon\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 48 48\">\r\n        <path stroke-linejoin=\"round\" stroke-width=\"4\" stroke=\"#f5f5f5\"\r\n            d=\"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Z\" data-follow-stroke=\"#f5f5f5\" />\r\n        <path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-width=\"4\" stroke=\"#f5f5f5\"\r\n            d=\"m22 31-7-7 7-7M31 31l-7-7 7-7\" data-follow-stroke=\"#f5f5f5\" />\r\n    </symbol>\r\n    <symbol id=\"play-icon\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 48 48\">\r\n        <path stroke-linejoin=\"round\" stroke-width=\"4\" stroke=\"#f5f5f5\"\r\n            d=\"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Z\" data-follow-stroke=\"#f5f5f5\" />\r\n        <path stroke-linejoin=\"round\" stroke-width=\"4\" stroke=\"#f5f5f5\" d=\"M20 24v-6.928l6 3.464L32 24l-6 3.464-6 3.464V24Z\"\r\n            data-follow-stroke=\"#f5f5f5\" />\r\n    </symbol>\r\n    <symbol id=\"next-icon\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 48 48\">\r\n        <path stroke-linejoin=\"round\" stroke-width=\"4\" stroke=\"#f5f5f5\"\r\n            d=\"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Z\" data-follow-stroke=\"#f5f5f5\" />\r\n        <path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-width=\"4\" stroke=\"#f5f5f5\"\r\n            d=\"m17 31 7-7-7-7M26 31l7-7-7-7\" data-follow-stroke=\"#f5f5f5\" />\r\n    </symbol>\r\n    <symbol id=\"list-icon\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 48 48\">\r\n        <path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-width=\"4\" stroke=\"#f5f5f5\"\r\n            d=\"M7.95 11.95h32M7.95 23.95h32M7.95 35.95h32\" data-follow-stroke=\"#f5f5f5\" />\r\n    </symbol>\r\n    <symbol id=\"pause-icon\"\"  xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 48 48\">\r\n        <path stroke-linejoin=\"round\" stroke-width=\"4\" stroke=\"#f5f5f5\"\r\n            d=\"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Z\" data-follow-stroke=\"#f5f5f5\" />\r\n        <path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-width=\"4\" stroke=\"#f5f5f5\" d=\"M19 18v12M29 18v12\"\r\n            data-follow-stroke=\"#f5f5f5\" />\r\n    </symbol>\r\n    <symbol id=\"order-icon\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 48 48\">\r\n        <path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-width=\"4\" stroke=\"#f5f5f5\"\r\n            d=\"M4 25c0-6.65 5.396-12 12-12h28\" data-follow-stroke=\"#f5f5f5\" />\r\n        <path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-width=\"4\" stroke=\"#f5f5f5\"\r\n            d=\"m38 7 6 6-6 6M44 23c0 6.65-5.396 12-12 12H4\" data-follow-stroke=\"#f5f5f5\" />\r\n        <path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-width=\"4\" stroke=\"#f5f5f5\" d=\"m10 41-6-6 6-6\"\r\n            data-follow-stroke=\"#f5f5f5\" />\r\n    </symbol>\r\n    <symbol id=\"unordered-icon\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 48 48\">\r\n        <path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-width=\"4\" stroke=\"#f5f5f5\"\r\n            d=\"m40 33 4 4-4 4M40 7l4 4-4 4\" data-follow-stroke=\"#f5f5f5\" />\r\n        <path stroke-linecap=\"round\" stroke-width=\"4\" stroke=\"#f5f5f5\"\r\n            d=\"M44 11h-7c-7.18 0-13 5.82-13 13s5.82 13 13 13h7M4 37h7c7.18 0 13-5.82 13-13s-5.82-13-13-13H4\"\r\n            data-follow-stroke=\"#f5f5f5\" />\r\n    </symbol>\r\n    <symbol id=\"loop-icon\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 48 48\">\r\n        <path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-width=\"4\" stroke=\"#f5f5f5\"\r\n            d=\"M43.823 25.23a13.965 13.965 0 0 1-2.837 6.448A13.975 13.975 0 0 1 30 37H16C9.397 37 4 31.678 4 25c0-6.65 5.396-12 12-12h28\"\r\n            data-follow-stroke=\"#f5f5f5\" />\r\n        <path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-width=\"4\" stroke=\"#f5f5f5\"\r\n            d=\"m38 7 6 6-6 6M24 19v12M24 19l-3 3-1.5 1.5\" data-follow-stroke=\"#f5f5f5\" />\r\n    </symbol>\r\n</svg>\r\n`\r\n","class Swiper {\r\n    constructor(node) {\r\n        if (!node) throw new Error('请传递需要绑定的DOM元素')\r\n        let root = typeof node === 'string' ? document.querySelector(node) : node\r\n        let eventHub = { 'swipeLeft': [], 'swipeRight': [] }\r\n\r\n        let initX\r\n        let newX\r\n        let clock\r\n        root.ontouchstart = function (e) {\r\n            initX = e.changedTouches[0].pageX\r\n        }\r\n\r\n        root.ontouchmove = function (e) {\r\n            if (clock) clearInterval(clock)\r\n            clock = setTimeout(() => {\r\n                newX = e.changedTouches[0].pageX\r\n                if (newX - initX > 50) {\r\n                    eventHub['swipeRight'].forEach(fn => fn.bind(root)())\r\n                } else if (initX - newX > 50) {\r\n                    eventHub['swipeLeft'].forEach(fn => fn.bind(root)())\r\n                }\r\n            }, 100)\r\n        }\r\n\r\n        this.on = function (type, fn) {\r\n            if (eventHub[type]) {\r\n                eventHub[type].push(fn)\r\n            }\r\n        }\r\n        this.off = function (type, fn) {\r\n            let index = eventHub[type].indexOf(fn)\r\n            if (index !== -1) {\r\n                eventHub[type].splice(index, 1)\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default Swiper","import './icons'\r\nimport Swiper from './Swiper.js'\r\n\r\nclass Player {\r\n    constructor(node) {\r\n        this.root = typeof node === 'string' ? document.querySelector(node) : node\r\n        this.$ = selector => this.root.querySelector(selector)\r\n        this.$$ = selector => this.root.querySelectorAll(selector)\r\n        this.songList = []\r\n        this.currentIndex = 0\r\n        this.audio = new Audio()\r\n        this.lyricsArr = []\r\n        this.lyricIndex = -1\r\n\r\n        this.start()\r\n        this.bind()\r\n        // https://mohism-wargo.github.io/Simulate-data/music-list.json\r\n    }\r\n    start() {\r\n        fetch('https://mohism-wargo.github.io/Simulate-data/music-list.json')\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                console.log(data)\r\n                this.songList = data\r\n                this.loadSong()\r\n            })\r\n    }\r\n    bind() {\r\n        let self = this\r\n        this.$('.btn-play').onclick = function () {\r\n            if (this.classList.contains('pause')) {\r\n                self.audio.play()\r\n                this.classList.remove('pause')\r\n                this.classList.add('playing')\r\n                this.querySelector('use').setAttribute('xlink:href', '#pause-icon')\r\n            } else if (this.classList.contains('playing')) {\r\n                self.audio.pause()\r\n                this.classList.remove('playing')\r\n                this.classList.add('pause')\r\n                this.querySelector('use').setAttribute('xlink:href', '#play-icon')\r\n            }\r\n        }\r\n\r\n        this.$('.btn-pre').onclick = function () {\r\n            self.currentIndex = (self.songList.length + self.currentIndex - 1) % self.songList.length\r\n            self.loadSong()\r\n            self.playSong()\r\n        }\r\n        this.$('.btn-next').onclick = function () {\r\n            self.currentIndex = (self.currentIndex + 1) % self.songList.length\r\n            self.loadSong()\r\n            self.playSong()\r\n        }\r\n        this.$('.btn-play-mode').onclick = function () {\r\n            if (this.classList.contains('order')) {\r\n                this.classList.remove('order')\r\n                this.classList.add('unordered')\r\n                this.querySelector('use').setAttribute('xlink:href', '#unordered-icon')\r\n            } else if (this.classList.contains('unordered')) {\r\n                this.classList.remove('unordered')\r\n                this.classList.add('loop')\r\n                this.querySelector('use').setAttribute('xlink:href', '#loop-icon')\r\n            } else if (this.classList.contains('loop')) {\r\n                this.classList.remove('loop')\r\n                this.classList.add('order')\r\n                this.querySelector('use').setAttribute('xlink:href', '#order-icon')\r\n            }\r\n        }\r\n        this.audio.addEventListener('ended', () => {\r\n            if (self.$('.btn-play-mode').classList.contains('order')) {\r\n                console.log(self.currentIndex)\r\n                console.log(self.songList.length)\r\n                if (self.currentIndex < self.songList.length - 1) {\r\n                    self.currentIndex++\r\n                } else {\r\n                    self.currentIndex = 0\r\n                }\r\n                self.loadSong()\r\n                self.playSong()\r\n            } else if (self.$('.btn-play-mode').classList.contains('unordered')) {\r\n                self.currentIndex = Math.floor(Math.random() * self.songList.length + 1)\r\n                self.loadSong()\r\n                self.playSong()\r\n            } else if (self.$('.btn-play-mode').classList.contains('loop')) {\r\n                self.audio.currentTime = 0\r\n                self.playSong()\r\n            }\r\n        })\r\n        this.audio.ontimeupdate = function () {\r\n            self.locateLyric()\r\n            self.setProgressBar()\r\n        }\r\n\r\n        let swiper = new Swiper(this.$('.show-area'))\r\n        swiper.on('swipeLeft', function () {\r\n            this.classList.remove('home')\r\n            this.classList.add('all-lyrics')\r\n        })\r\n        swiper.on('swipeRight', function () {\r\n            this.classList.remove('all-lyrics')\r\n            this.classList.add('home')\r\n        })\r\n    }\r\n\r\n    loadSong() {\r\n        let songObj = this.songList[this.currentIndex]\r\n        this.$('.header h1').innerText = songObj.title\r\n        this.$('.header p').innerText = songObj.author + '-' + songObj.album\r\n        this.audio.src = songObj.url\r\n        this.audio.onloadedmetadata = () => this.$('.time-end').innerText = this.formatTime(this.audio.duration)\r\n\r\n        this.loadLyrics()\r\n    }\r\n\r\n    playSong() {\r\n        this.audio.oncanplaythrough = () => this.audio.play()\r\n    }\r\n\r\n    loadLyrics() {\r\n        fetch(this.songList[this.currentIndex].lyric)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                console.log(data.lrc.lyric)\r\n                this.setLyrics(data.lrc.lyric)\r\n                window.lyrics = data.lrc.lyric\r\n            })\r\n    }\r\n\r\n    locateLyric() {\r\n        if (this.lyricIndex === this.lyricsArr.length - 1) return\r\n        let currentTime = this.audio.currentTime * 1000\r\n        let nextLineTime = this.lyricsArr[this.lyricIndex + 1][0]\r\n        if (currentTime > nextLineTime && this.lyricIndex < this.lyricsArr.length - 1) {\r\n            this.lyricIndex++\r\n            let node = this.$('[data-time=\"' + this.lyricsArr[this.lyricIndex][0] + '\"]')\r\n            if (node) this.setLyricToCenter(node)\r\n            this.$$('.show-area .lyrics p')[0].innerText = this.lyricsArr[this.lyricIndex][1]\r\n            this.$$('.show-area .lyrics p')[1].innerText = this.lyricsArr[this.lyricIndex + 1] ? this.lyricsArr[this.lyricIndex + 1][1] : ''\r\n        }\r\n    }\r\n\r\n    setLyrics(lyrics) {\r\n        this.lyricIndex = 0\r\n        let fragment = document.createDocumentFragment()\r\n        let lyricsArr = []\r\n        this.lyricsArr = lyricsArr\r\n        lyrics.split(/\\n/)\r\n            .filter(str => str.match(/\\[.+?\\]/))\r\n            .forEach(line => {\r\n                let str = line.replace(/\\[.+?\\]/g, '')\r\n                line.match(/\\[.+?\\]/g).forEach(t => {\r\n                    t = t.replace(/[\\[\\]]/g, '')\r\n                    let milliseconds = parseInt(t.slice(0, 2)) * 60 * 1000 + parseInt(t.slice(3, 5)) * 1000 + parseInt(t.slice(6))\r\n                    if (str !== '')\r\n                        lyricsArr.push([milliseconds, str])\r\n                })\r\n            })\r\n\r\n        this.lyricsArr.filter(line => line[1].trim() !== '')\r\n        this.lyricsArr.sort((v1, v2) => {\r\n            if (v1[0] > v2[0]) {\r\n                return 1\r\n            } else {\r\n                return -1\r\n            }\r\n        }).forEach(line => {\r\n            let node = document.createElement('p')\r\n            node.setAttribute('data-time', line[0])\r\n            node.innerText = line[1]\r\n            fragment.appendChild(node)\r\n        })\r\n        this.$('.show-lyrics .container').innerHTML = ''\r\n        this.$('.show-lyrics .container').appendChild(fragment)\r\n    }\r\n    setLyricToCenter(node) {\r\n        let translateY = node.offsetTop - this.$('.show-lyrics').offsetHeight / 2\r\n        translateY = translateY > 0 ? translateY : 0\r\n        this.$('.show-lyrics .container').style.transform = `translateY(-${translateY}px)`\r\n        this.$$('.show-lyrics p').forEach(node => node.classList.remove('current'))\r\n        node.classList.add('current')\r\n    }\r\n\r\n    setProgressBar() {\r\n        let percent = (this.audio.currentTime / this.audio.duration) * 100 + '%'\r\n        this.$('.bar .progress').style.width = percent\r\n        this.$('.time-start').innerText = this.formatTime(this.audio.currentTime)\r\n    }\r\n    formatTime(secondsTotal) {\r\n        let minutes = parseInt(secondsTotal / 60)\r\n        minutes = minutes >= 10 ? '' + minutes : '0' + minutes\r\n        let seconds = parseInt(secondsTotal % 60)\r\n        seconds = seconds >= 10 ? '' + seconds : '0' + seconds\r\n        return minutes + ':' + seconds\r\n    }\r\n}\r\n\r\nwindow.p = new Player('#player')"]}